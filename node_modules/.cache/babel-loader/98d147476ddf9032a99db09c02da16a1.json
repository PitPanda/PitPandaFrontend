{"ast":null,"code":"var _jsxFileName = \"/home/mcpqndq/repos/PitPandaProduction/frontEnd/src/Components/LeaderboardPositions/LeaderboardPositions.js\";\nimport React, { useState, useEffect } from 'react';\nimport MinecraftText from '../Minecraft/MinecraftText';\nimport boards from '../../scripts/leaderboards';\nimport Link from '../Link/Link'; //import { Link } from 'react-router-dom';\n\nconst formatPosition = n => {\n  if (typeof n === 'undefined') return 'Loading';\n  if (n === null) return 'N/A';\n  if (n <= 3) return `§6#${n.toLocaleString()}`;\n  if (n <= 10) return `§e#${n.toLocaleString()}`;\n  if (n <= 25) return `§f#${n.toLocaleString()}`;else return `§7#${n.toLocaleString()}`;\n};\n\nexport default (props => {\n  const [positions, setPositions] = useState({});\n  useEffect(() => {\n    let alive = true;\n\n    (async () => {\n      try {\n        const request = await fetch(`/api/position/${props.uuid}`);\n        const json = await request.json();\n        console.log(json);\n\n        if (alive) {\n          if (!json.success) setPositions({\n            error: json.error || 'An error has occured'\n          });else setPositions(json.rankings);\n        }\n      } catch (e) {\n        if (alive) setPositions({\n          error: e\n        });\n      }\n    })();\n\n    return () => alive = false;\n  }, [props.uuid]);\n  return boards.ownKeys(props.hiddens).map(key => /*#__PURE__*/React.createElement(Link, {\n    href: `/leaderboard?category=${key}&page=${Math.floor(((positions[key] || 1) - 1) / 100)}`,\n    key: key,\n    scroll: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MinecraftText, {\n    raw: `${boards[key].short}: ${formatPosition(positions[key])}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 94\n    }\n  })));\n});","map":{"version":3,"sources":["/home/mcpqndq/repos/PitPandaProduction/frontEnd/src/Components/LeaderboardPositions/LeaderboardPositions.js"],"names":["React","useState","useEffect","MinecraftText","boards","Link","formatPosition","n","toLocaleString","props","positions","setPositions","alive","request","fetch","uuid","json","console","log","success","error","rankings","e","ownKeys","hiddens","map","key","Math","floor","short"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,IAAP,MAAiB,cAAjB,C,CACA;;AAEA,MAAMC,cAAc,GAAIC,CAAD,IAAK;AACxB,MAAG,OAAOA,CAAP,KAAa,WAAhB,EAA6B,OAAO,SAAP;AAC7B,MAAGA,CAAC,KAAG,IAAP,EAAa,OAAO,KAAP;AACb,MAAGA,CAAC,IAAE,CAAN,EAAS,OAAQ,MAAKA,CAAC,CAACC,cAAF,EAAmB,EAAhC;AACT,MAAGD,CAAC,IAAE,EAAN,EAAU,OAAQ,MAAKA,CAAC,CAACC,cAAF,EAAmB,EAAhC;AACV,MAAGD,CAAC,IAAE,EAAN,EAAU,OAAQ,MAAKA,CAAC,CAACC,cAAF,EAAmB,EAAhC,CAAV,KACK,OAAQ,MAAKD,CAAC,CAACC,cAAF,EAAmB,EAAhC;AACR,CAPD;;AASA,gBAAgBC,KAAD,IAAW;AACtB,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAC,EAAD,CAA1C;AACAC,EAAAA,SAAS,CAAC,MAAI;AACV,QAAIU,KAAK,GAAG,IAAZ;;AACA,KAAC,YAAS;AACN,UAAG;AACC,cAAMC,OAAO,GAAG,MAAMC,KAAK,CAAE,iBAAgBL,KAAK,CAACM,IAAK,EAA7B,CAA3B;AACA,cAAMC,IAAI,GAAG,MAAMH,OAAO,CAACG,IAAR,EAAnB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,YAAGJ,KAAH,EAAS;AACL,cAAG,CAACI,IAAI,CAACG,OAAT,EAAkBR,YAAY,CAAC;AAACS,YAAAA,KAAK,EAAEJ,IAAI,CAACI,KAAL,IAAY;AAApB,WAAD,CAAZ,CAAlB,KACKT,YAAY,CAACK,IAAI,CAACK,QAAN,CAAZ;AACR;AACJ,OARD,CAQC,OAAMC,CAAN,EAAQ;AACL,YAAGV,KAAH,EAAUD,YAAY,CAAC;AAACS,UAAAA,KAAK,EAACE;AAAP,SAAD,CAAZ;AACb;AACJ,KAZD;;AAaA,WAAO,MAAMV,KAAK,GAAG,KAArB;AACH,GAhBQ,EAgBN,CAACH,KAAK,CAACM,IAAP,CAhBM,CAAT;AAiBA,SAAOX,MAAM,CAACmB,OAAP,CAAed,KAAK,CAACe,OAArB,EAA8BC,GAA9B,CAAkCC,GAAG,iBACxC,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAG,yBAAwBA,GAAI,SAAQC,IAAI,CAACC,KAAL,CAAW,CAAC,CAAClB,SAAS,CAACgB,GAAD,CAAT,IAAgB,CAAjB,IAAoB,CAArB,IAAwB,GAAnC,CAAwC,EAAzF;AAA4F,IAAA,GAAG,EAAEA,GAAjG;AAAsG,IAAA,MAAM,EAAE,IAA9G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,aAAD;AAAe,IAAA,GAAG,EAAG,GAAEtB,MAAM,CAACsB,GAAD,CAAN,CAAYG,KAAM,KAAIvB,cAAc,CAACI,SAAS,CAACgB,GAAD,CAAV,CAAiB,EAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eACqF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADrF,CADG,CAAP;AAKH,CAxBD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport MinecraftText from '../Minecraft/MinecraftText';\nimport boards from '../../scripts/leaderboards';\nimport Link from '../Link/Link';\n//import { Link } from 'react-router-dom';\n\nconst formatPosition = (n)=>{\n    if(typeof n === 'undefined') return 'Loading';\n    if(n===null) return 'N/A';\n    if(n<=3) return `§6#${n.toLocaleString()}`;\n    if(n<=10) return `§e#${n.toLocaleString()}`;\n    if(n<=25) return `§f#${n.toLocaleString()}`;\n    else return `§7#${n.toLocaleString()}`;\n}\n\nexport default (props) => {\n    const [positions, setPositions] = useState({});\n    useEffect(()=>{\n        let alive = true;\n        (async()=>{\n            try{\n                const request = await fetch(`/api/position/${props.uuid}`);\n                const json = await request.json();\n                console.log(json);\n                if(alive){\n                    if(!json.success) setPositions({error:(json.error||'An error has occured')});\n                    else setPositions(json.rankings);\n                }\n            }catch(e){\n                if(alive) setPositions({error:e});\n            }\n        })();\n        return () => alive = false;\n    }, [props.uuid]);\n    return boards.ownKeys(props.hiddens).map(key=>(\n        <Link href={`/leaderboard?category=${key}&page=${Math.floor(((positions[key]||1)-1)/100)}`} key={key} scroll={true}>\n            <MinecraftText raw={`${boards[key].short}: ${formatPosition(positions[key])}`} /><br/>\n        </Link>\n    ));\n}"]},"metadata":{},"sourceType":"module"}