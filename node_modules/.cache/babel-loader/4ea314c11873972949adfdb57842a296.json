{"ast":null,"code":"import _regeneratorRuntime from\"/home/mcpqndq/repos/PitPandaProduction/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mcpqndq/repos/PitPandaProduction/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/mcpqndq/repos/PitPandaProduction/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import MinecraftText from'../Minecraft/MinecraftText';import boards from'../../scripts/leaderboards';import Link from'../Link/Link';//import { Link } from 'react-router-dom';\nvar formatPosition=function formatPosition(n){if(typeof n==='undefined')return'Loading';if(n===null)return'N/A';if(n<=3)return\"\\xA76#\".concat(n.toLocaleString());if(n<=10)return\"\\xA7e#\".concat(n.toLocaleString());if(n<=25)return\"\\xA7f#\".concat(n.toLocaleString());else return\"\\xA77#\".concat(n.toLocaleString());};export default(function(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),positions=_useState2[0],setPositions=_useState2[1];useEffect(function(){var alive=true;_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var request,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/api/position/\".concat(props.uuid));case 3:request=_context.sent;_context.next=6;return request.json();case 6:json=_context.sent;console.log(json);if(alive){if(!json.success)setPositions({error:json.error||'An error has occured'});else setPositions(json.rankings);}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);if(alive)setPositions({error:_context.t0});case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}))();return function(){return alive=false;};},[props.uuid]);return boards.ownKeys(props.hiddens).map(function(key){return/*#__PURE__*/React.createElement(Link,{href:\"/leaderboard?category=\".concat(key,\"&page=\").concat(Math.floor(((positions[key]||1)-1)/100)),key:key,scroll:true},/*#__PURE__*/React.createElement(MinecraftText,{raw:\"\".concat(boards[key].short,\": \").concat(formatPosition(positions[key]))}),/*#__PURE__*/React.createElement(\"br\",null));});});","map":{"version":3,"sources":["/home/mcpqndq/repos/PitPandaProduction/frontEnd/src/Components/LeaderboardPositions/LeaderboardPositions.js"],"names":["React","useState","useEffect","MinecraftText","boards","Link","formatPosition","n","toLocaleString","props","positions","setPositions","alive","fetch","uuid","request","json","console","log","success","error","rankings","ownKeys","hiddens","map","key","Math","floor","short"],"mappings":"+eAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CACA;AAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,CAAD,CAAK,CACxB,GAAG,MAAOA,CAAAA,CAAP,GAAa,WAAhB,CAA6B,MAAO,SAAP,CAC7B,GAAGA,CAAC,GAAG,IAAP,CAAa,MAAO,KAAP,CACb,GAAGA,CAAC,EAAE,CAAN,CAAS,sBAAaA,CAAC,CAACC,cAAF,EAAb,EACT,GAAGD,CAAC,EAAE,EAAN,CAAU,sBAAaA,CAAC,CAACC,cAAF,EAAb,EACV,GAAGD,CAAC,EAAE,EAAN,CAAU,sBAAaA,CAAC,CAACC,cAAF,EAAb,EAAV,IACK,uBAAaD,CAAC,CAACC,cAAF,EAAb,EACR,CAPD,CASA,eAAe,SAACC,KAAD,CAAW,eACYR,QAAQ,CAAC,EAAD,CADpB,wCACfS,SADe,eACJC,YADI,eAEtBT,SAAS,CAAC,UAAI,CACV,GAAIU,CAAAA,KAAK,CAAG,IAAZ,CACA,wDAAC,0LAE6BC,CAAAA,KAAK,yBAAkBJ,KAAK,CAACK,IAAxB,EAFlC,QAEaC,OAFb,qCAG0BA,CAAAA,OAAO,CAACC,IAAR,EAH1B,QAGaA,IAHb,eAIOC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,GAAGJ,KAAH,CAAS,CACL,GAAG,CAACI,IAAI,CAACG,OAAT,CAAkBR,YAAY,CAAC,CAACS,KAAK,CAAEJ,IAAI,CAACI,KAAL,EAAY,sBAApB,CAAD,CAAZ,CAAlB,IACKT,CAAAA,YAAY,CAACK,IAAI,CAACK,QAAN,CAAZ,CACR,CARR,iFAUO,GAAGT,KAAH,CAAUD,YAAY,CAAC,CAACS,KAAK,YAAN,CAAD,CAAZ,CAVjB,qEAAD,KAaA,MAAO,kBAAMR,CAAAA,KAAK,CAAG,KAAd,EAAP,CACH,CAhBQ,CAgBN,CAACH,KAAK,CAACK,IAAP,CAhBM,CAAT,CAiBA,MAAOV,CAAAA,MAAM,CAACkB,OAAP,CAAeb,KAAK,CAACc,OAArB,EAA8BC,GAA9B,CAAkC,SAAAC,GAAG,qBACxC,oBAAC,IAAD,EAAM,IAAI,iCAA2BA,GAA3B,kBAAuCC,IAAI,CAACC,KAAL,CAAW,CAAC,CAACjB,SAAS,CAACe,GAAD,CAAT,EAAgB,CAAjB,EAAoB,CAArB,EAAwB,GAAnC,CAAvC,CAAV,CAA4F,GAAG,CAAEA,GAAjG,CAAsG,MAAM,CAAE,IAA9G,eACI,oBAAC,aAAD,EAAe,GAAG,WAAKrB,MAAM,CAACqB,GAAD,CAAN,CAAYG,KAAjB,cAA2BtB,cAAc,CAACI,SAAS,CAACe,GAAD,CAAV,CAAzC,CAAlB,EADJ,cACqF,8BADrF,CADwC,EAArC,CAAP,CAKH,CAxBD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport MinecraftText from '../Minecraft/MinecraftText';\nimport boards from '../../scripts/leaderboards';\nimport Link from '../Link/Link';\n//import { Link } from 'react-router-dom';\n\nconst formatPosition = (n)=>{\n    if(typeof n === 'undefined') return 'Loading';\n    if(n===null) return 'N/A';\n    if(n<=3) return `§6#${n.toLocaleString()}`;\n    if(n<=10) return `§e#${n.toLocaleString()}`;\n    if(n<=25) return `§f#${n.toLocaleString()}`;\n    else return `§7#${n.toLocaleString()}`;\n}\n\nexport default (props) => {\n    const [positions, setPositions] = useState({});\n    useEffect(()=>{\n        let alive = true;\n        (async()=>{\n            try{\n                const request = await fetch(`/api/position/${props.uuid}`);\n                const json = await request.json();\n                console.log(json);\n                if(alive){\n                    if(!json.success) setPositions({error:(json.error||'An error has occured')});\n                    else setPositions(json.rankings);\n                }\n            }catch(e){\n                if(alive) setPositions({error:e});\n            }\n        })();\n        return () => alive = false;\n    }, [props.uuid]);\n    return boards.ownKeys(props.hiddens).map(key=>(\n        <Link href={`/leaderboard?category=${key}&page=${Math.floor(((positions[key]||1)-1)/100)}`} key={key} scroll={true}>\n            <MinecraftText raw={`${boards[key].short}: ${formatPosition(positions[key])}`} /><br/>\n        </Link>\n    ));\n}"]},"metadata":{},"sourceType":"module"}